--Physical devices to use (type lsusb in terminal to list your connected devices)
devices = 
   {
      kbd0 = "/dev/input/by-id/usb-413c_Dell_KB216_Wired_Keyboard-event-kbd",  -- keyboard device (try to find a suitable device by listing input devices by typing 'ls /dev/input/by-id/' )
      --kbd0 = "/dev/input/by-path/platform-i8042-serio-0-event-kbd",
   }

--Virtual devices to create, current limit is maximum 53 (0 to 52) buttons and 19 (0 to 18) axes. Note that not every button or axis is fully tested to work.
--Creating more than one virtual devices is possible, making room for more buttons and axes.
v_devices = 
   {
      v0 = 
	 {
	    buttons = 0,
	    axes = 6
	 }
   }

-- Send method for keyboard. Key is given, i.e. KEY_G (check reference document for more supported key-codes), and state is given, i.e. 0 for release or 1 for press.
-- send_keyboard_event(key, state)

-- Send methods for virtual devices. Index of virtual device is given, i.e. 0 for v0, 1 for v1 and so on. Button/axis is given, i.e. 0 for button 0, 1 for button 1 and so on.
-- send_button_event(vjoy, button, state)
-- send_axis_event(vjoy, axis, pos)			//pos is the axis position (-32767 >= pos <= 32767)

-- Get methods for physical devices. Arguments applies in the same way as for above methods.
-- get_button_status(joy, button) 	//Returns 0 or 1 if button is pressed or not.
-- get_axis_status(joy, axis)		//Returns the axis position value

-- Get methods for virtual devices, applies in the same way as for physical devices.
-- get_vjoy_button_status(vjoy, button)
-- get_vjoy_axis_status(vjoy, axis)
--
axis1 = 0
axis2 = 0
axis3 = 0
axis4 = 0
axis5 = 0

function kbd0_pressed(value)
	--roll 
   if value == KEY_A then
      axis1 = axis1 - 10000
   end
   if value == KEY_D then
      axis1 = axis1 + 10000
   end

   --pitch
   if value == KEY_W then
      axis2 = axis2 - 10000
   end
   if value == KEY_S then
      axis2 = axis2 + 10000
   end

   if value == KEY_R then
      axis3 = axis3 + 10000
   end
   if value == KEY_F then
      axis3 = axis3 - 10000
   end

   if value == KEY_T then
      axis4 = axis4 - 10000
   end
   if value == KEY_G then
      axis4 = axis4 + 10000
   end

   --mode
   if value == KEY_Y then
      axis5 = axis5 - 40000
      if axis5 < -40000 then
        axis5 = -40000
      end
   end
   if value == KEY_H then
      axis5 = axis5 + 40000
      if axis5 > 40000 then
        axis5 = 40000
      end
   end
   send_axis_event(0, 0, axis1)
   send_axis_event(0, 1, axis2)
   send_axis_event(0, 5, axis3)
   send_axis_event(0, 2, axis4)
   send_axis_event(0, 3, axis5)
end

